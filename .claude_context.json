{
  "project": "Meta Ads Performance Analysis & Discord Reporting Agent",
  "version": "1.0.0",
  "created": "2026-02-01",
  "context": {
    "purpose": "AI코딩밸리 메타 광고 성과 자동 분석 및 디스코드 리포팅",
    "owner": "Martinkim73",
    "github": "https://github.com/Martinkim73/meta_report"
  },
  "config": {
    "meta_api": {
      "access_token": "EAAJtLQiScxMBQkCVWmMznCIZAoCQZCeHVXDLBznpUAa2niBBBurU2MmhraP7jN2ZCOKhlVEbA8lfdhAcZBqNsVPzAXi1xlZBYw5TbmSi9VX91XpzZCsbZAyIOZANl3nuu68IHwEmY9Bgclg6AMHTyNdjwlbLGpBGjBpJrd0zJebPcXigMZAvwTIeCnZAqtb97fqOkD",
      "ad_account_id": "act_149067477924600",
      "target_campaigns": ["fbig_web&app_purchase_250613", "fbig_web_purchase_240910"],
      "analysis_period": "last_7_days",
      "low_roas_threshold": 85
    },
    "discord": {
      "webhook_url": "https://discord.com/api/webhooks/1467530388321865791/nHHwTsxtvfu_CcEtvBMpPzi-or09bBsp3ym1knL8tZ6zh1v6HMPKLqEjnIfE6P_e5Dwr"
    },
    "classification": {
      "DA": "이미지 소재 (광고세트명에 'DA' 포함)",
      "VA": "영상 소재 (광고세트명에 'VA' 포함)"
    }
  },
  "files": {
    "meta_analysis_report.py": {
      "desc": "메타 광고 성과 분석 메인 스크립트",
      "features": [
        "활성 캠페인/광고세트만 필터링 (effective_status=ACTIVE)",
        "최근 7일 데이터 자동 수집",
        "동일 광고명 합산 (여러 세트에 분산된 소재 통합)",
        "ROAS, CPA 가중평균 계산",
        "저효율 소재 자동 식별 (ROAS<85%)",
        "소재 이미지/비디오 썸네일 URL 추출",
        "Windows UTF-8 인코딩 처리"
      ],
      "dependencies": ["facebook-business", "pandas"]
    },
    "send_to_discord.py": {
      "desc": "디스코드 웹훅 보고서 전송 스크립트",
      "features": [
        "저효율 소재 DA/VA 분류 출력",
        "소재별 상세 지표 (지출/구매/ROAS/CPA)",
        "이미지 임베드 자동 전송",
        "2000자 제한 대응 (메시지 분할)"
      ],
      "dependencies": ["requests"]
    }
  },
  "execution": {
    "analysis": "python meta_analysis_report.py",
    "discord_send": "python send_to_discord.py"
  },
  "results_summary": {
    "last_run": "2026-02-01",
    "analysis_period": "26.01.25 ~ 02.01",
    "active_campaigns": 2,
    "active_adsets": 5,
    "total_ads": 60,
    "low_performance_materials": 11,
    "low_performance_spend": "45만원",
    "overall_roas": "236%",
    "top_performers": [
      "branding_gaiyoon-usp_v5_260107_img (ROAS 2554%)",
      "branding_year-end event_v2_b_251219_img (ROAS 1145%)",
      "branding_benefit_focus_v2_251114_img (ROAS 1056%)"
    ]
  },
  "session_history": {
    "tasks_completed": [
      "1. Python 환경 구축 (facebook-business, pandas 설치)",
      "2. 메타 광고 API 연동 및 데이터 수집 로직 구현",
      "3. 활성 캠페인/광고세트 필터링 구현",
      "4. 소재 분류 (DA/VA) 및 합산 로직",
      "5. ROAS/CPA 가중평균 계산",
      "6. 저효율 소재 식별 (ROAS<85%)",
      "7. 크리에이티브 URL 추출",
      "8. 디스코드 보고서 형식 구현",
      "9. 디스코드 웹훅 전송 기능",
      "10. Windows 인코딩 문제 해결",
      "11. API Rate Limit 처리",
      "12. GitHub 저장소 설정 및 푸시"
    ],
    "issues_resolved": [
      "UnicodeEncodeError (cp949) → sys.stdout UTF-8 래핑",
      "API 'adset_name' 필드 미지원 → insights API 직접 사용",
      "API Rate Limit → 30초 대기 후 재시도",
      "중복 캠페인 → effective_status=ACTIVE 필터링",
      "nul 파일 Git 오류 → 파일 삭제 후 재시도"
    ]
  },
  "next_steps": [
    "회사 컴퓨터에서 git clone https://github.com/Martinkim73/meta_report.git",
    "pip install facebook-business pandas requests",
    "필요시 ACCESS_TOKEN, WEBHOOK_URL 업데이트",
    "python meta_analysis_report.py 실행"
  ]
}
